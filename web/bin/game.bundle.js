webpackJsonp([0],{0:function(o,t,e){"use strict";function n(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}function r(o,t){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?o:t}function i(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(o,t):o.__proto__=t)}var a=function(){function o(o,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}return function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}}();e(1),e(5),e(8),e(9);var s=e(306),l=e(333),f=e(470),m=function(o){function t(o){n(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o));return console.log("this is a test"),e.state={board:new f},e}return i(t,o),a(t,[{key:"restartGame",value:function(){this.setState({board:new f})}},{key:"handleKeyDown",value:function(o){if(!this.state.board.hasWon()&&o.keyCode>=37&&o.keyCode<=40){o.preventDefault();var t=o.keyCode-37;this.setState({board:this.state.board.move(t)})}}},{key:"handleTouchStart",value:function(o){this.state.board.hasWon()||1==o.touches.length&&(this.startX=o.touches[0].screenX,this.startY=o.touches[0].screenY,o.preventDefault())}},{key:"handleTouchEnd",value:function(o){if(!this.state.board.hasWon()&&1==o.changedTouches.length){var t=o.changedTouches[0].screenX-this.startX,e=o.changedTouches[0].screenY-this.startY,n=-1;Math.abs(t)>3*Math.abs(e)&&Math.abs(t)>30?n=t>0?2:0:Math.abs(e)>3*Math.abs(t)&&Math.abs(e)>30&&(n=e>0?3:1),n!=-1&&this.setState({board:this.state.board.move(n)})}}},{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown.bind(this))}},{key:"render",value:function(){var o=this.state.board.cells.map(function(o,t){return s.createElement("div",{key:t},o.map(function(o,e){return s.createElement(_,{key:t*f.size+e})}))}),t=this.state.board.tiles.filter(function(o){return 0!=o.value}).map(function(o){return s.createElement(u,{tile:o,key:o.id})});return console.log("hello2"),s.createElement("div",{className:"board",onTouchStart:this.handleTouchStart.bind(this),onTouchEnd:this.handleTouchEnd.bind(this),tabIndex:"1"},o,t,s.createElement(p,{board:this.state.board,onRestart:this.restartGame.bind(this)}))}}]),t}(s.Component),_=function(o){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,o),a(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return s.createElement("span",{className:"cell"},"")}}]),t}(s.Component),u=function(o){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,o),a(t,[{key:"shouldComponentUpdate",value:function(o){return this.props.tile!=o.tile||!(!o.tile.hasMoved()&&!o.tile.isNew())}},{key:"render",value:function(){var o=this.props.tile,t=["tile"];t.push("tile"+this.props.tile.value),o.mergedInto||t.push("position_"+o.row+"_"+o.column),o.mergedInto&&t.push("merged"),o.isNew()&&t.push("new"),o.hasMoved()&&(t.push("row_from_"+o.fromRow()+"_to_"+o.toRow()),t.push("column_from_"+o.fromColumn()+"_to_"+o.toColumn()),t.push("isMoving"));var e=t.join(" ");return console.log("hello3"),s.createElement("span",{className:e},o.value)}}]),t}(s.Component),p=function(o){var t=o.board,e=o.onRestart,n="";return t.hasWon()?n="Good Job!":t.hasLost()&&(n="Game Over"),n?s.createElement("div",{className:"overlay"},s.createElement("p",{className:"message"},n),s.createElement("button",{className:"tryAgain",onClick:e,onTouchEnd:e},"Try again")):null};l.render(s.createElement(m,null),document.getElementById("boardDiv"))},1:function(o,t,e){var n=e(2);"string"==typeof n&&(n=[[o.id,n,""]]);e(4)(n,{});n.locals&&(o.exports=n.locals)},2:function(o,t,e){t=o.exports=e(3)(),t.push([o.id,".position_0_0:not(.isMoving){top:5px;left:5px}.position_0_1:not(.isMoving){top:5px;left:115px}.position_0_2:not(.isMoving){top:5px;left:225px}.position_0_3:not(.isMoving){top:5px;left:335px}.position_1_0:not(.isMoving){top:115px;left:5px}.position_1_1:not(.isMoving){top:115px;left:115px}.position_1_2:not(.isMoving){top:115px;left:225px}.position_1_3:not(.isMoving){top:115px;left:335px}.position_2_0:not(.isMoving){top:225px;left:5px}.position_2_1:not(.isMoving){top:225px;left:115px}.position_2_2:not(.isMoving){top:225px;left:225px}.position_2_3:not(.isMoving){top:225px;left:335px}.position_3_0:not(.isMoving){top:335px;left:5px}.position_3_1:not(.isMoving){top:335px;left:115px}.position_3_2:not(.isMoving){top:335px;left:225px}.position_3_3:not(.isMoving){top:335px;left:335px}.row_from_0_to_0{top:5px}.row_from_0_to_1{animation-duration:.2s;animation-name:row_from_0_to_1;animation-fill-mode:forwards}@keyframes row_from_0_to_1{0%{top:5px}to{top:115px}}.row_from_0_to_2{animation-duration:.2s;animation-name:row_from_0_to_2;animation-fill-mode:forwards}@keyframes row_from_0_to_2{0%{top:5px}to{top:225px}}.row_from_0_to_3{animation-duration:.2s;animation-name:row_from_0_to_3;animation-fill-mode:forwards}@keyframes row_from_0_to_3{0%{top:5px}to{top:335px}}.row_from_1_to_0{animation-duration:.2s;animation-name:row_from_1_to_0;animation-fill-mode:forwards}@keyframes row_from_1_to_0{0%{top:115px}to{top:5px}}.row_from_1_to_1{top:115px}.row_from_1_to_2{animation-duration:.2s;animation-name:row_from_1_to_2;animation-fill-mode:forwards}@keyframes row_from_1_to_2{0%{top:115px}to{top:225px}}.row_from_1_to_3{animation-duration:.2s;animation-name:row_from_1_to_3;animation-fill-mode:forwards}@keyframes row_from_1_to_3{0%{top:115px}to{top:335px}}.row_from_2_to_0{animation-duration:.2s;animation-name:row_from_2_to_0;animation-fill-mode:forwards}@keyframes row_from_2_to_0{0%{top:225px}to{top:5px}}.row_from_2_to_1{animation-duration:.2s;animation-name:row_from_2_to_1;animation-fill-mode:forwards}@keyframes row_from_2_to_1{0%{top:225px}to{top:115px}}.row_from_2_to_2{top:225px}.row_from_2_to_3{animation-duration:.2s;animation-name:row_from_2_to_3;animation-fill-mode:forwards}@keyframes row_from_2_to_3{0%{top:225px}to{top:335px}}.row_from_3_to_0{animation-duration:.2s;animation-name:row_from_3_to_0;animation-fill-mode:forwards}@keyframes row_from_3_to_0{0%{top:335px}to{top:5px}}.row_from_3_to_1{animation-duration:.2s;animation-name:row_from_3_to_1;animation-fill-mode:forwards}@keyframes row_from_3_to_1{0%{top:335px}to{top:115px}}.row_from_3_to_2{animation-duration:.2s;animation-name:row_from_3_to_2;animation-fill-mode:forwards}@keyframes row_from_3_to_2{0%{top:335px}to{top:225px}}.row_from_3_to_3{top:335px}.column_from_0_to_0{left:5px}.column_from_0_to_1{animation-duration:.2s;animation-name:column_from_0_to_1;animation-fill-mode:forwards}@keyframes column_from_0_to_1{0%{left:5px}to{left:115px}}.column_from_0_to_2{animation-duration:.2s;animation-name:column_from_0_to_2;animation-fill-mode:forwards}@keyframes column_from_0_to_2{0%{left:5px}to{left:225px}}.column_from_0_to_3{animation-duration:.2s;animation-name:column_from_0_to_3;animation-fill-mode:forwards}@keyframes column_from_0_to_3{0%{left:5px}to{left:335px}}.column_from_1_to_0{animation-duration:.2s;animation-name:column_from_1_to_0;animation-fill-mode:forwards}@keyframes column_from_1_to_0{0%{left:115px}to{left:5px}}.column_from_1_to_1{left:115px}.column_from_1_to_2{animation-duration:.2s;animation-name:column_from_1_to_2;animation-fill-mode:forwards}@keyframes column_from_1_to_2{0%{left:115px}to{left:225px}}.column_from_1_to_3{animation-duration:.2s;animation-name:column_from_1_to_3;animation-fill-mode:forwards}@keyframes column_from_1_to_3{0%{left:115px}to{left:335px}}.column_from_2_to_0{animation-duration:.2s;animation-name:column_from_2_to_0;animation-fill-mode:forwards}@keyframes column_from_2_to_0{0%{left:225px}to{left:5px}}.column_from_2_to_1{animation-duration:.2s;animation-name:column_from_2_to_1;animation-fill-mode:forwards}@keyframes column_from_2_to_1{0%{left:225px}to{left:115px}}.column_from_2_to_2{left:225px}.column_from_2_to_3{animation-duration:.2s;animation-name:column_from_2_to_3;animation-fill-mode:forwards}@keyframes column_from_2_to_3{0%{left:225px}to{left:335px}}.column_from_3_to_0{animation-duration:.2s;animation-name:column_from_3_to_0;animation-fill-mode:forwards}@keyframes column_from_3_to_0{0%{left:335px}to{left:5px}}.column_from_3_to_1{animation-duration:.2s;animation-name:column_from_3_to_1;animation-fill-mode:forwards}@keyframes column_from_3_to_1{0%{left:335px}to{left:115px}}.column_from_3_to_2{animation-duration:.2s;animation-name:column_from_3_to_2;animation-fill-mode:forwards}@keyframes column_from_3_to_2{0%{left:335px}to{left:225px}}.column_from_3_to_3{left:335px}",""])},3:function(o,t){o.exports=function(){var o=[];return o.toString=function(){for(var o=[],t=0;t<this.length;t++){var e=this[t];e[2]?o.push("@media "+e[2]+"{"+e[1]+"}"):o.push(e[1])}return o.join("")},o.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(n[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&n[a[0]]||(e&&!a[2]?a[2]=e:e&&(a[2]="("+a[2]+") and ("+e+")"),o.push(a))}},o}},4:function(o,t,e){function n(o,t){for(var e=0;e<o.length;e++){var n=o[e],r=p[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(f(n.parts[i],t))}else{for(var a=[],i=0;i<n.parts.length;i++)a.push(f(n.parts[i],t));p[n.id]={id:n.id,refs:1,parts:a}}}}function r(o){for(var t=[],e={},n=0;n<o.length;n++){var r=o[n],i=r[0],a=r[1],s=r[2],l=r[3],f={css:a,media:s,sourceMap:l};e[i]?e[i].parts.push(f):t.push(e[i]={id:i,parts:[f]})}return t}function i(o,t){var e=h(),n=w[w.length-1];if("top"===o.insertAt)n?n.nextSibling?e.insertBefore(t,n.nextSibling):e.appendChild(t):e.insertBefore(t,e.firstChild),w.push(t);else{if("bottom"!==o.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");e.appendChild(t)}}function a(o){o.parentNode.removeChild(o);var t=w.indexOf(o);t>=0&&w.splice(t,1)}function s(o){var t=document.createElement("style");return t.type="text/css",i(o,t),t}function l(o){var t=document.createElement("link");return t.rel="stylesheet",i(o,t),t}function f(o,t){var e,n,r;if(t.singleton){var i=x++;e=v||(v=s(t)),n=m.bind(null,e,i,!1),r=m.bind(null,e,i,!0)}else o.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=l(t),n=u.bind(null,e),r=function(){a(e),e.href&&URL.revokeObjectURL(e.href)}):(e=s(t),n=_.bind(null,e),r=function(){a(e)});return n(o),function(t){if(t){if(t.css===o.css&&t.media===o.media&&t.sourceMap===o.sourceMap)return;n(o=t)}else r()}}function m(o,t,e,n){var r=e?"":n.css;if(o.styleSheet)o.styleSheet.cssText=y(t,r);else{var i=document.createTextNode(r),a=o.childNodes;a[t]&&o.removeChild(a[t]),a.length?o.insertBefore(i,a[t]):o.appendChild(i)}}function _(o,t){var e=t.css,n=t.media;if(n&&o.setAttribute("media",n),o.styleSheet)o.styleSheet.cssText=e;else{for(;o.firstChild;)o.removeChild(o.firstChild);o.appendChild(document.createTextNode(e))}}function u(o,t){var e=t.css,n=t.sourceMap;n&&(e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var r=new Blob([e],{type:"text/css"}),i=o.href;o.href=URL.createObjectURL(r),i&&URL.revokeObjectURL(i)}var p={},c=function(o){var t;return function(){return"undefined"==typeof t&&(t=o.apply(this,arguments)),t}},d=c(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=c(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,x=0,w=[];o.exports=function(o,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=d()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var e=r(o);return n(e,t),function(o){for(var i=[],a=0;a<e.length;a++){var s=e[a],l=p[s.id];l.refs--,i.push(l)}if(o){var f=r(o);n(f,t)}for(var a=0;a<i.length;a++){var l=i[a];if(0===l.refs){for(var m=0;m<l.parts.length;m++)l.parts[m]();delete p[l.id]}}}};var y=function(){var o=[];return function(t,e){return o[t]=e,o.filter(Boolean).join("\n")}}()},5:function(o,t,e){var n=e(6);"string"==typeof n&&(n=[[o.id,n,""]]);e(4)(n,{});n.locals&&(o.exports=n.locals)},6:function(o,t,e){t=o.exports=e(3)(),t.push([o.id,"@font-face{font-family:Clear Sans;src:url("+e(7)+') format("truetype")}body{display:flex;flex-direction:column;justify-content:center;align-content:center;align-items:center;font-family:Clear Sans,sans-serif;font-size:21px}.text{order:2;padding-top:40px;width:440px;font-weight:700}.board{order:1;width:440px;height:440px;padding:5px;background-color:#baa;border-radius:7px;outline:none;position:relative}.board .cell,.tile{user-select:none;cursor:default}.cell,.tile{width:100px;height:100px;margin:5px;line-height:90px;display:inline-block;font-size:55px;font-weight:700;text-align:center;vertical-align:middle;border-radius:7px;font-family:Clear Sans;color:#766}.cell,.tile,.tile0{background-color:#dcb}.tile2{background-color:#eee}.tile4{background-color:#eec}.tile8{color:#ffe;background-color:#fb8}.tile16{color:#ffe;background-color:#f96}.tile32{color:#ffe;background-color:#f75}.tile64{color:#ffe;background-color:#f53}.tile128{background-color:#ec7}.tile128,.tile256{color:#ffe;font-size:45px}.tile256{background-color:#ec6}.tile512{color:#ffe;background-color:#ec5;font-size:45px}.tile1024{background-color:#ec3}.tile1024,.tile2048{color:#fff;font-size:35px}.tile2048{background-color:#ec2}.tile{position:absolute}.tile.merged{display:none}.tile.merged.isMoving{display:inline}.overlay,.tile.new{animation-duration:.2s;animation-name:newTile;animation-fill-mode:forwards;animation-delay:.15s;transform:scale(0)}@keyframes newTile{0%{transform:scale(0)}to{transform:scale(1)}}.overlay{position:absolute;top:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;left:0;right:0;font-size:55px;font-weight:bolder;background-color:hsla(0,0%,87%,.5);border-radius:7px}.tryAgain{background-color:#876;color:#fff;height:40px;width:200px;font-size:20px;font-weight:700;cursor:pointer;border:none;border-radius:5px}.overlay .message{color:#666}',""])},7:function(o,t,e){o.exports=e.p+"fonts/clear-sans.ttf"},470:function(o,t){"use strict";var e=function(o){for(var t=o.length,e=o[0].length,n=[],r=0;r<t;++r){n.push([]);for(var i=0;i<e;++i)n[r][i]=o[i][e-r-1]}return n},n=function o(t,e,n){this.value=t||0,this.row=e||-1,this.column=n||-1,this.oldRow=-1,this.oldColumn=-1,this.markForDeletion=!1,this.mergedInto=null,this.id=o.id++};n.id=0,n.prototype.moveTo=function(o,t){this.oldRow=this.row,this.oldColumn=this.column,this.row=o,this.column=t},n.prototype.isNew=function(){return this.oldRow==-1&&!this.mergedInto},n.prototype.hasMoved=function(){return this.fromRow()!=-1&&(this.fromRow()!=this.toRow()||this.fromColumn()!=this.toColumn())||this.mergedInto},n.prototype.fromRow=function(){return this.mergedInto?this.row:this.oldRow},n.prototype.fromColumn=function(){return this.mergedInto?this.column:this.oldColumn},n.prototype.toRow=function(){return this.mergedInto?this.mergedInto.row:this.row},n.prototype.toColumn=function(){return this.mergedInto?this.mergedInto.column:this.column};var r=function o(){this.tiles=[],this.cells=[];for(var t=0;t<o.size;++t)this.cells[t]=[this.addTile(),this.addTile(),this.addTile(),this.addTile()];this.addRandomTile(),this.setPositions(),this.won=!1};r.prototype.addTile=function(){console.log("test2");var o=new n;return n.apply(o,arguments),this.tiles.push(o),o},r.size=4,r.prototype.moveLeft=function(){for(var o=!1,t=0;t<r.size;++t){for(var e=this.cells[t].filter(function(o){return 0!=o.value}),n=[],i=0;i<r.size;++i){var a=e.length?e.shift():this.addTile();if(e.length>0&&e[0].value==a.value){var s=a;a=this.addTile(a.value),s.mergedInto=a;var l=e.shift();l.mergedInto=a,a.value+=l.value}n[i]=a,this.won|=2048==a.value,o|=a.value!=this.cells[t][i].value}this.cells[t]=n}return o},r.prototype.setPositions=function(){this.cells.forEach(function(o,t){o.forEach(function(o,e){o.oldRow=o.row,o.oldColumn=o.column,o.row=t,o.column=e,o.markForDeletion=!1})})},r.fourProbability=.1,r.prototype.addRandomTile=function(){for(var o=[],t=0;t<r.size;++t)for(var e=0;e<r.size;++e)0==this.cells[t][e].value&&o.push({r:t,c:e});var n=~~(Math.random()*o.length),i=o[n],a=Math.random()<r.fourProbability?4:2;this.cells[i.r][i.c]=this.addTile(a)},r.prototype.move=function(o){this.clearOldTiles();for(var t=0;t<o;++t)this.cells=e(this.cells);for(var n=this.moveLeft(),t=o;t<4;++t)this.cells=e(this.cells);return n&&this.addRandomTile(),this.setPositions(),this},r.prototype.clearOldTiles=function(){this.tiles=this.tiles.filter(function(o){return 0==o.markForDeletion}),this.tiles.forEach(function(o){o.markForDeletion=!0})},r.prototype.hasWon=function(){return this.won},r.deltaX=[-1,0,1,0],r.deltaY=[0,-1,0,1],r.prototype.hasLost=function(){for(var o=!1,t=0;t<r.size;++t)for(var e=0;e<r.size;++e){o|=0==this.cells[t][e].value;for(var n=0;n<4;++n){var i=t+r.deltaX[n],a=e+r.deltaY[n];i<0||i>=r.size||a<0||a>=r.size||(o|=this.cells[t][e].value==this.cells[i][a].value)}}return!o},o.exports=r}});